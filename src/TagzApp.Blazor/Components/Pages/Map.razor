@page "/Map"
@using Fritz.Charlie.Components
@using Fritz.Charlie.Components.Map
@using Fritz.Charlie.Common
@rendermode InteractiveServer
@implements IAsyncDisposable
@inject IJSRuntime JSRuntime

<PageTitle>TagzApp - Map Display</PageTitle>

<div class="overlay-container">
    <ChatterMapDirect Height="900" Width="100%" 
                       ShowTourControls="true"
                      OnMapInitialized="OnMapInitialized" 
					  EnablePinAnnouncements="true"
                      AnnouncementDurationMs="3000"
                      OnError="OnMapError" />
    
</div>

@code {

	private ChatterMapDirect? _ChatterMap;

	private async Task OnMapInitialized()
	{
		Console.WriteLine("Map initialized.");
	}

	private async Task OnMapError(string errorMessage)
	{
		Console.WriteLine($"Map error: {errorMessage}");
	}

	public async ValueTask DisposeAsync()
	{
		if (_ChatterMap != null)
		{
			await _ChatterMap.DisposeAsync();
		}
	}
}
